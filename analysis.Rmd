---
title: "PRA 2. Limpieza y análisis de datos"
output:
  pdf_document:
    toc: yes
    toc_depth: '2'
  html_document:
    df_print: paged
    number_sections: yes
    theme: cosmo
    toc: yes
    toc_depth: 2
---

# Descripción del dataset. 

El dataset elegido corresponde al generado en la PRAC1. El dataset contiene los resultados obtenidos por distintos equipos profesionales de fútbol en diversas competiciones a lo largo de la última década.

Nos serviremos de estos datos para anlizar los diferentes clubs de futbol a nivel global así como para buscar patrones entre ellos.

```{r}
df <- read.csv(file = 'football_competitions.csv')
head(df)
```
```{r}
str(df)
```


El fichero contiene una tabla con diez columnas, siendo las dos primeras de tipo cadena y el resto de tipo entero.

Los campos son: 


* competition:  Nombre de la competición, año y grupo dentro de los cuales el equipo
indicado obtuvo los resultados indicados.
* pl_team: Nombre del equipo.
* pl_pi: Número de partidos jugados.
* pl_w: Número de partidos ganados.
* pl_d: Número de partidos empatados.
* pl_l: Número de partidos perdidos.
* pl_f: Número de goles a favor.
* pl_a: Número de goles en contra.
* pl_gd: Diferencia de goles.
* pl_pts: Puntos obtenidos por el equipo.


# Integración y selección de los datos de interés a analizar

todo: hablar que análisis vamos a hacer para poder hacer este apartado

# Limpieza de datos

## Elementos vacíos y cero.

Primero vamos a ver si hay valores vacíos en el dataset.

```{r}
sapply(df, function(x) sum(is.na(x)))
```

No hay, buscamos valores 0.

```{r}
sum(df==0)
```
Hay muchos datos que son igual a cero. Debido a la naturaleza del dataframe no es necesario quitarlos, porque puede ser que un equipo tenga 0 puntos, victorias, derrotas, etc.

## Valores extremos.

Para la detección de outliers o valores extremos utilizamos la función boxplots.stats(), en concreto el atributo "out" que nos devuelve los valores que distan mucho del rango intercuartílico que se dibujan en los diagramas de caja.

```{r}
boxplot.stats(df$pl_pi)$out
```
```{r}
boxplot.stats(df$pl_w)$out
```

```{r}
boxplot.stats(df$pl_d)$out
```

```{r}
boxplot.stats(df$pl_l)$out
```

```{r}
boxplot.stats(df$pl_f)$out
```

```{r}
boxplot.stats(df$pl_a)$out
```

A penas hay valores outliers y tras comprobarlos, vemos que efectivamente hay equipos que han ganado más de 30 partidos en una comoptición y lo mismo ocurre con las derrotas y los goles en contra.


# Análisis de los datos.

## Selección de los grupos de datos que se quieren analizar/comparar (planificación de los análisis a aplicar).

P_w, P_l, p_d

## Comprobación de la normalidad y homogeneidad de la varianza.

## Aplicación de pruebas estadísticas para comparar los grupos de datos. En función de los datos y el objetivo del estudio, aplicar pruebas de contraste de hipótesis, correlaciones, regresiones, etc. Aplicar al menos tres métodos de análisis diferentes.

Aquí puede ir  estadísticas de los equipos más destacados y un clustering de equipos 

# Representación de los resultados a partir de tablas y gráficas.

plots de los equipos y un plot del clustering con sus fronteras de decisión

# Resolución del problema. A partir de los resultados obtenidos, ¿cuáles son las conclusiones? ¿Los resultados permiten responder al problema?


